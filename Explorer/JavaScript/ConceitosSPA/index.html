<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPA</title>
</head>
<body>
    <nav>
        <!--ao clicar executa a função, não precisa passar argumento porque o argumento é o event-->
        <a href="/" onclick="route()">Home</a>
        <a href="/about" onclick="route()">Sobre</a>
        <a href="/contact" onclick="route()">Contact</a>
        <a href="/404" onclick="route()">404</a>
    </nav>

    <div id="app"></div>

    <script>
        //objeto routes, propriedade o nome da rota e o valor o caminho do arquivo
        //esse é o mapeamnento das rotas 
        const routes = {
            //propriedade está entre "" pois não pode colocar / no nome, para acessar utiliza o: routes["/about"]
            "/": "/pages/home.html",
            "/about": "/pages/about.html",
            "/contact": "/pages/contact.html",
            404: "/pages/404.html"
        }

        //função route recebe o evento
        function route(event){
            //verifica se tem um evento se não pega o da window
            event = event || window.event
            //perde o padrao do evento(não faça o padrão), que onclick era redirecionar
            event.preventDefault()

            //historico do window (sempre que clica no href muda o historico), pushState: coloque o estado no historico
            //{} "": um objeto vazio, por ultimo vai a url
            window.history.pushState({}, "", event.target.href)
            //event target, quando clica no href dispara o evento de click, target é quem disparou o evento que é o A, 
            //o A tem a propriedade href, então pega o href e coloca no histórico
            handle()
        }

        function handle(){
            //atravez do location.pathname acessa o /contact e os outros(as rotas)
            //const pathname = window.location.pathname

            //outro modo de fazer, essa instrução diz, va em location encontre o pathname e coloque em uma constante
            //se chama desestruturar, tirando de dentro do objeto (uma cópia)
            const {pathname} = window.location
            //onst {pathname, href, host, port} = window.location
            //dessa maneira acessa essas outras opções, da primeira maneira teria que criar varias instruções

            console.log(pathname)
        }
    </script>
</body>
</html>